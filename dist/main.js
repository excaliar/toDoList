(()=>{let e=[];function t(t,l,c){this.title=t,this.dueDate=l,this.project=c,e.push(this)}function l(){const t=document.querySelector(".tasks");t.textContent="",e.forEach((e=>{let l=document.createElement("div");l.classList.add("doItNow"),t.appendChild(l);let c=document.createElement("button");c.classList.add("finish"),l.appendChild(c);let s=document.createElement("div");s.classList.add("task"),s.textContent=e.title,l.appendChild(s);let n=document.createElement("div");n.classList.add("date"),n.textContent=e.dueDate,l.appendChild(n)}))}function c(){const t=document.querySelector(".tasks"),l=new Date;t.textContent="",e.forEach((e=>{let c=new Date(e.dueDate);if(c.getWeek()==l.getWeek()&&c.getFullYear()==l.getFullYear()){let l=document.createElement("div");l.classList.add("doItNow"),t.appendChild(l);let c=document.createElement("button");c.classList.add("finish"),l.appendChild(c);let s=document.createElement("div");s.classList.add("task"),s.textContent=e.title,l.appendChild(s);let n=document.createElement("div");n.classList.add("date"),n.textContent=e.dueDate,l.appendChild(n)}}))}function s(){const t=document.querySelector(".tasks"),l=new Date;t.textContent="",e.forEach((e=>{let c=new Date(e.dueDate);if(c.getDate()+1==l.getDate()&&c.getMonth()+1==l.getMonth()+1&&c.getFullYear()==l.getFullYear()){let l=document.createElement("div");l.classList.add("doItNow"),t.appendChild(l);let c=document.createElement("button");c.classList.add("finish"),l.appendChild(c);let s=document.createElement("div");s.classList.add("task"),s.textContent=e.title,l.appendChild(s);let n=document.createElement("div");n.classList.add("date"),n.textContent=e.dueDate,l.appendChild(n)}}))}function n(){const t=document.querySelector(".tasks");t.textContent="";let l=document.querySelectorAll(".projectButton"),c="";l.forEach((e=>{e.classList.contains("select")&&(c=e.textContent)})),e.forEach((e=>{if(e.project==c){let l=document.createElement("div");l.classList.add("doItNow"),t.appendChild(l);let c=document.createElement("button");c.classList.add("finish"),l.appendChild(c);let s=document.createElement("div");s.classList.add("task"),s.textContent=e.title,l.appendChild(s);let n=document.createElement("div");n.classList.add("date"),n.textContent=e.dueDate,l.appendChild(n)}}))}Date.prototype.getWeek=function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay())/7)},function(){if(localStorage.length>0){for(let t=0;t<localStorage.length;t++)e.push(JSON.parse(localStorage.getItem(`${t}`)));l()}}(),function(){projects=[];const t=document.querySelector(".sideBar");for(let t=0;t<e.length;t++)null==e[t].project||projects.includes(e[t].project)||projects.push(e[t].project);for(let e=0;e<projects.length;e++){let l=projects[e],c=document.createElement("button");c.textContent=l,c.classList.add("deselect"),c.classList.add("projectButton"),t.appendChild(c)}}(),function(){let a=document.querySelector(".newItem"),d=document.querySelector(".tasks"),o=document.querySelector(".today"),i=document.querySelector(".week");a.addEventListener("click",(()=>{let a=document.querySelectorAll(".projectButton"),r=document.createElement("div");r.classList.add("doItNow"),d.appendChild(r);let u=document.createElement("form");u.classList.add("formm"),r.appendChild(u);let m=document.createElement("label");m.textContent="Task",m.classList.add("taskPlaceHolder"),u.appendChild(m);let p=document.createElement("input");p.setAttribute("type","text"),p.setAttribute("maxlength",90),p.classList.add("inputTask"),u.appendChild(p);let h=document.createElement("label");h.classList.add("datePlaceholder"),h.textContent="Do By:",u.appendChild(h);let L=document.createElement("input");L.setAttribute("type","date"),L.classList.add("inputDate"),u.appendChild(L);let f=document.createElement("button");f.classList.add("submitTask"),u.appendChild(f),f.textContent="âœ“",f.addEventListener("click",(d=>{let r;d.preventDefault(),""!=p.value&&""!=L.value&&(a.forEach((e=>{e.classList.contains("select")&&(r=e.textContent)})),new t(p.value,L.value,r),localStorage.setItem(`${localStorage.length}`,JSON.stringify(e[localStorage.length])),null!=r?n():o.classList.contains("select")?s():i.classList.contains("select")?c():l())}))}))}(),function(){let t=document.querySelector(".tasks"),n=document.querySelector(".inbox"),a=document.querySelector(".today"),d=document.querySelector(".week");t.addEventListener("click",(t=>{if(t.target.matches(".finish")){let o=t.target.parentNode.querySelector(".task").textContent;e.forEach(((t,l)=>{if(t.title==o){e.splice(l,1),localStorage.clear();for(let t=0;t<e.length;t++)localStorage.setItem(`${t}`,JSON.stringify(e[t]))}})),n.classList.contains("select")?l():a.classList.contains("select")?s():d.classList.contains("select")&&c()}}))}(),function(){let e=document.querySelector(".week"),t=document.querySelectorAll(".sideBar button");e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.add("deselect"),e.classList.remove("select")})),e.classList.remove("deselect"),e.classList.add("select"),c()}))}(),function(){let e=document.querySelector(".today"),t=document.querySelectorAll(".sideBar button");e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.add("deselect"),e.classList.remove("select")})),e.classList.remove("deselect"),e.classList.add("select"),s()}))}(),function(){let e=document.querySelector(".inbox"),t=document.querySelectorAll(".sideBar button");e.addEventListener("click",(()=>{t.forEach((e=>{e.classList.add("deselect"),e.classList.remove("select")})),e.classList.remove("deselect"),e.classList.add("select"),l()}))}(),function(){let e=document.querySelector(".addProject");const t=document.querySelector(".sideBar");e.addEventListener("click",(()=>{let e=document.createElement("input");e.setAttribute("type","text"),e.classList.add("newProject"),t.appendChild(e),e.addEventListener("keypress",(function(l){if("Enter"===l.key&&""!=e.value){let l=e.value,c=document.createElement("button");c.textContent=l,c.classList.add("deselect"),c.classList.add("projectButton"),t.appendChild(c),t.removeChild(e)}}))}))}(),function(){const e=document.querySelector(".sideBar");let t=document.querySelectorAll(".mainBut");document.querySelector(".tasks"),e.addEventListener("click",(e=>{if(e.target.matches(".projectButton")){let l=e.target;l.parentNode.querySelectorAll(".projectButton").forEach((e=>{e.classList.add("deselect"),e.classList.remove("select")})),l.classList.add("select"),l.classList.remove("deselect"),n(),t.forEach((e=>{e.classList.add("deselect"),e.classList.remove("select"),e.addEventListener("click",(()=>{l.classList.add("deselect"),l.classList.remove("select")}))}))}}))}()})();